!function() {
  "use strict";
  new Vue({
    el: "#app",
    data: {
      gas: "https://script.google.com/macros/s/AKfycbyXmqrQ62ZYSpoBZ5FcWj5PtfTgxEEVZDZEabv3k-yhmkKRMzFJM_tAcRfGYSi0Gp7Zjw/exec",
      name: "",
      id: "",
      persons: {},
      loading: !1
    },
    methods: {
    lookupByName: function() {
  const trimmedName = this.name.trim();
  const match = Object.entries(this.persons).find(([id, person]) => person.name === trimmedName);
  this.id = match ? match[0] : "";
}


      fetchAll: function() {
        this.loading = !0;
        fetch(this.gas)
          .then(res => res.json())
          .then(data => {
            this.persons = data;
            this.loading = !1;
          });
      }
    },
    mounted() {
      this.fetchAll();
    }
  });
}();
