!function() {
  "use strict";
  new Vue({
    el: "#app",
    data: {
      gas: "https://script.google.com/macros/s/AKfycbwyY7oLpoZ4lbcIwIWniLZ8U_pY8e7YBK9fakeszgR_77S2u1SV/exec",
      name: "",
      id: "",
      persons: {},
      loading: !1
    },
    methods: {
      lookupByName: function() {
        const match = Object.entries(this.persons).find(([id, person]) => person.name === this.name.trim());
        this.id = match ? match[0] : "";
      },
      fetchAll: function() {
        this.loading = !0;
        fetch(this.gas)
          .then(res => res.json())
          .then(data => {
            this.persons = data;
            this.loading = !1;
          });
      }
    },
    mounted() {
      this.fetchAll();
    }
  });
}();
